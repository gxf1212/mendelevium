# 标点符号规范

## 基本原则

**全文使用中文标点**（除frontmatter和mermaid）

---

## 中文标点（Unicode）

### 必须使用的中文标点

| 标点 | Unicode | 示例 |
|------|---------|------|
| 逗号 | U+FF0C | ， |
| 句号 | U+3002 | 。 |
| 分号 | U+FF1B | ； |
| 冒号 | U+FF1A | ： |
| 感叹号 | U+FF01 | ！ |
| 问号 | U+FF1F | ？ |
| 左引号 | U+201C | " |
| 右引号 | U+201D | " |

---

## 引号规范

### 中文引号

**必须使用**：U+201C（"）和 U+201D（"）

```markdown
✅ 这是"黑箱"模型。
✅ 所谓的"过拟合"问题。
✅ 研究了"生成式AI"的应用。
```

### 英文引号 ❌

**禁止使用**：U+0022（"）

```markdown
❌ 这是"黑箱"模型。
❌ 所谓的"过拟合"问题。
```

### 引号的使用场景

1. **特殊术语**：首次出现或需要强调的术语
2. **引用**：引用他人的话或观点
3. **比喻用法**：非字面意义的表达

### 引号的使用限制

**尽量少用引号**，常用词不需要引号：

```markdown
✅ 蛋白结构
❌ "蛋白"结构  # 蛋白是常用词，不需要引号
```

---

## 特殊情况

### frontmatter中使用英文标点

```yaml
---
title: "Article Title"    # 英文引号
tags: [tag1, tag2]        # 英文标点
---
```

**原因**：frontmatter是YAML格式，必须使用英文标点。

### mermaid图中使用英文标点

```mermaid
graph TB
    A["节点标签"]          # 英文引号
    B[节点2] --> C{判断}   # 英文标点
```

**原因**：mermaid语法要求使用英文标点。

### 代码块中使用英文标点

```python
print("Hello World")  # 英文引号
```

**原因**：代码必须使用英文标点。

---

## 转义符规范

### 不要多余的转义

```markdown
✅ Q&A              # 直接使用&
❌ Q\&A             # 多余的转义

✅ 1. 第一点         # 直接使用点号
❌ 1\. 第一点        # 多余的转义
```

### 为什么会出现多余转义？

某些Markdown编辑器或工具会自动添加转义符，但在本项目中不需要。

---

## 逗号和分号

### 中文逗号

```markdown
✅ 方法包括MD模拟、QM/MM计算、自由能分析。
❌ 方法包括MD模拟,QM/MM计算,自由能分析。
```

### 中文分号

```markdown
✅ LAQV/REQUIMTE，波尔图大学化学与生物化学系，葡萄牙；厄瓜多尔昆卡大学化学科学学院，厄瓜多尔
❌ LAQV/REQUIMTE, 波尔图大学化学与生物化学系,葡萄牙;厄瓜多尔昆卡大学化学科学学院,厄瓜多尔
```

---

## 冒号

### 中文冒号

```markdown
✅ 研究内容包括：方法、结果、讨论
✅ 图1：PETase的晶体结构
✅ 子位点I：通过π-π相互作用结合底物
```

### 特殊情况：英文后的冒号

```markdown
✅ PDB ID: 5XG0  # 英文缩写后用英文冒号
✅ DOI: 10.1021/xxx  # DOI后用英文冒号
```

---

## 括号

### 中文括号

```markdown
✅ 使用了贝叶斯优化（Bayesian Optimization）方法
✅ 催化三联体（Ser131-His208-Asp177）
✅ 温度为300 K（约27°C）
```

### 英文括号的使用场景

仅在公式、代码、英文句子中使用：

```markdown
✅ $f(x)$  # 公式中
✅ (x, y, z)  # 坐标
✅ (PDB ID: 5XG0)  # 全英文内容
```

---

## 自动修复工具

### tools/convert_quotes.py

**功能**：自动转换为中文引号

```bash
python3 tools/convert_quotes.py <markdown_file>
```

**修复内容**：
- 英文引号 `"` → 中文引号 `"`（U+201C）
- 英文引号 `"` → 中文引号 `"`（U+201D）

**排除区域**：
- frontmatter
- 代码块
- 行内代码
- mermaid图

---

## 检查方法

### 自动检查

使用`tools/check_blog_quality.py`会检测：
- 中文后的英文逗号
- 中文后的英文分号
- 可能存在的英文引号
- 多余的转义符（`\&`, `\.`）

### 手动检查

在编辑器中搜索：
1. `[\u4e00-\u9fff],` - 中文后的英文逗号
2. `[\u4e00-\u9fff];` - 中文后的英文分号
3. `"[^"]*"` - 可能的英文引号

---

## 常见错误汇总

| 错误写法 | 正确写法 | 错误原因 |
|---------|---------|---------|
| 方法包括MD,QM/MM,分析 | 方法包括MD、QM/MM、分析 | 英文逗号 |
| 这是"黑箱"模型 | 这是"黑箱"模型 | 英文引号 |
| 研究内容包括:方法 | 研究内容包括：方法 | 英文冒号 |
| Q\&A | Q&A | 多余转义 |
| 1\. 第一点 | 1. 第一点 | 多余转义 |
| 单位(北京大学,中国) | 单位（北京大学，中国） | 英文括号和逗号 |

---

## 完整示例

### ❌ 错误示例

```markdown
本研究使用了"QM/MM方法",包括以下步骤:

1\. 构建模型
2\. 运行模拟
3\. 分析结果

研究单位包括:波尔图大学,葡萄牙;昆卡大学,厄瓜多尔。

**Q\&A**

- Q1: 为什么选择这个方法?
- A1: 因为它最适合。
```

### ✅ 正确示例

```markdown
本研究使用了"QM/MM方法"，包括以下步骤：

1. 构建模型
2. 运行模拟
3. 分析结果

研究单位包括：波尔图大学，葡萄牙；昆卡大学，厄瓜多尔。

**Q&A**

- Q1: 为什么选择这个方法？
- A1: 因为它最适合。
```
